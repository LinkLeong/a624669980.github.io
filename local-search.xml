<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>golang连接及操作mongodb数据库</title>
    <link href="/posts/28da225b.html"/>
    <url>/posts/28da225b.html</url>
    
    <content type="html"><![CDATA[<h1 id="驱动"><a href="#驱动" class="headerlink" title="驱动"></a>驱动</h1><p>go链接mongodb的驱动早起用的比较多的是<a href="https://github.com/go-mgo/mgo">mgo</a>,但是好像不更新了,所以就选用了官方的mongodb的<a href="https://github.com/mongodb/mongo-go-driver">go驱动</a>.</p><p><img src="https://i.loli.net/2020/11/14/LU4tur7lAzenPND.png" alt="mongodb"></p><pre><code class="hljs awk"><span class="hljs-string">&quot;go.mongodb.org/mongo-driver/bson&quot;</span>    <span class="hljs-regexp">//</span>BOSN解析包<span class="hljs-string">&quot;go.mongodb.org/mongo-driver/mongo&quot;</span>    <span class="hljs-regexp">//</span>MongoDB的Go驱动包</code></pre><h1 id="BSON介绍"><a href="#BSON介绍" class="headerlink" title="BSON介绍"></a>BSON介绍</h1><p>BSON是一种类json的一种二进制形式的存储格式，简称Binary JSON。MongoDB使用了BSON这种结构来存储数据和网络数据交换。</p><p>BSON对应Document这个概念，因为BSON是schema-free的，所以在MongoDB中所对应的Document也有这个特征，这里的一个Document也可以理解成关系数据库中的一条Record，只是Document的变化更丰富一些，Document可以嵌套。</p><p>MongoDB以BSON做为其存储结构的一个重要原因是它的可遍历性。</p><p>BSON编码扩展了JSON表示，使其包含额外的类型，如int、long、date、浮点数和decimal128。</p><h1 id="BSON类型"><a href="#BSON类型" class="headerlink" title="BSON类型"></a>BSON类型</h1><p>BSON数据的主要类型有：A，D，E，M和Raw。其中，A是数组，D是切片，M是映射，D和M是Go原生类型。</p><ul><li>A类型表示有序的BSON数组。</li></ul><pre><code class="hljs apache"><span class="hljs-attribute">bson</span>.A&#123;<span class="hljs-string">&quot;bar&quot;</span>, <span class="hljs-string">&quot;world&quot;</span>, <span class="hljs-number">3</span>.<span class="hljs-number">14159</span>, bson.D&#123;&#123;<span class="hljs-string">&quot;qux&quot;</span>, <span class="hljs-number">12345</span>&#125;&#125;&#125;</code></pre><ul><li>D类型表示包含有序元素的BSON文档。这种类型应该在顺序重要的情况下使用。如果元素的顺序无关紧要，则应使用M代替。</li></ul><pre><code class="hljs apache"><span class="hljs-attribute">bson</span>.D&#123;&#123;<span class="hljs-string">&quot;foo&quot;</span>, <span class="hljs-string">&quot;bar&quot;</span>&#125;, &#123;<span class="hljs-string">&quot;hello&quot;</span>, <span class="hljs-string">&quot;world&quot;</span>&#125;, &#123;<span class="hljs-string">&quot;pi&quot;</span>, <span class="hljs-number">3</span>.<span class="hljs-number">14159</span>&#125;&#125;</code></pre><ul><li>M类型表示无序的映射。</li></ul><pre><code class="hljs apache"><span class="hljs-attribute">bson</span>.M&#123;<span class="hljs-string">&quot;foo&quot;</span>: <span class="hljs-string">&quot;bar&quot;</span>, <span class="hljs-string">&quot;hello&quot;</span>: <span class="hljs-string">&quot;world&quot;</span>, <span class="hljs-string">&quot;pi&quot;</span>: <span class="hljs-number">3</span>.<span class="hljs-number">14159</span>&#125;</code></pre><ul><li><p>E类型表示D里面的一个BSON元素。</p></li><li><p>Raw类型代表未处理的原始BSON文档和元素，Raw系列类型用于验证和检索字节切片中的元素。当要查找BSON字节而不将其解编为另一种类型时，此类型最有用。</p><h1 id="连接mongodb"><a href="#连接mongodb" class="headerlink" title="连接mongodb"></a>连接mongodb</h1></li></ul><pre><code class="hljs stata"><span class="hljs-comment">// 设置mongoDB客户端连接信息</span>param := fmt.Sprintf(<span class="hljs-string">&quot;mongodb://XXX.XXX.XXX.XXX:27017&quot;</span>)clientOptions := options.Client().ApplyURI(param)<span class="hljs-comment">// 建立客户端连接</span>client, <span class="hljs-keyword">err</span> := mongo.Connect(context.TODO(), clientOptions)<span class="hljs-keyword">if</span> <span class="hljs-keyword">err</span> != nil &#123;<span class="hljs-keyword">log</span>.Fatal(<span class="hljs-keyword">err</span>)fmt.Println(<span class="hljs-keyword">err</span>)&#125;<span class="hljs-comment">// 检查连接情况</span><span class="hljs-keyword">err</span> = client.Ping(context.TODO(), nil)<span class="hljs-keyword">if</span> <span class="hljs-keyword">err</span> != nil &#123;<span class="hljs-keyword">log</span>.Fatal(<span class="hljs-keyword">err</span>)fmt.Println(<span class="hljs-keyword">err</span>)&#125;fmt.Println(<span class="hljs-string">&quot;Connected to MongoDB!&quot;</span>)<span class="hljs-comment">//指定要操作的数据集</span>collection := client.Database(<span class="hljs-string">&quot;ccmsensor&quot;</span>).Collection(<span class="hljs-string">&quot;mtr&quot;</span>)<span class="hljs-comment">//执行增删改查操作</span><span class="hljs-comment">// 断开客户端连接</span><span class="hljs-keyword">err</span> = client.Disconnect(context.TODO())<span class="hljs-keyword">if</span> <span class="hljs-keyword">err</span> != nil &#123;<span class="hljs-keyword">log</span>.Fatal(<span class="hljs-keyword">err</span>)&#125;fmt.Println(<span class="hljs-string">&quot;Connection to MongoDB closed.&quot;</span>)</code></pre><h1 id="查询"><a href="#查询" class="headerlink" title="查询"></a>查询</h1><h2 id="根据id查询"><a href="#根据id查询" class="headerlink" title="根据id查询"></a>根据id查询</h2><pre><code class="hljs roboconf">objid, err := primitive.ObjectIDFromHex(id)if err != nil &#123;<span class="hljs-attribute">logging.Error(&quot;根据id获取新闻详情错误&quot;, err)</span><span class="hljs-attribute">&#125;</span><span class="hljs-attribute">filter</span> := bson<span class="hljs-variable">.D</span>&#123;&#123;&quot;_id&quot;, objid&#125;&#125;//var news =News&#123;&#125;singleResult := client<span class="hljs-variable">.Database</span>(m<span class="hljs-variable">.database</span>)<span class="hljs-variable">.Collection</span>(m<span class="hljs-variable">.collection</span>)<span class="hljs-variable">.FindOne</span>(context<span class="hljs-variable">.TODO</span>(), filter)</code></pre><h2 id="随机查询N条记录-多记录解析"><a href="#随机查询N条记录-多记录解析" class="headerlink" title="随机查询N条记录(多记录解析)"></a>随机查询N条记录(多记录解析)</h2><h2 id="单条件查询"><a href="#单条件查询" class="headerlink" title="单条件查询"></a>单条件查询</h2><h3 id="等于"><a href="#等于" class="headerlink" title="等于"></a>等于</h3><pre><code class="hljs reasonml">c.<span class="hljs-constructor">Find(<span class="hljs-params">bson</span>.M&#123;<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Jimmy Kuu&quot;</span>&#125;)</span>.<span class="hljs-constructor">All(&amp;<span class="hljs-params">users</span>)</span></code></pre><h3 id="不等于"><a href="#不等于" class="headerlink" title="不等于"></a>不等于</h3><pre><code class="hljs reasonml">c.<span class="hljs-constructor">Find(<span class="hljs-params">bson</span>.M&#123;<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-params">bson</span>.M&#123;<span class="hljs-string">&quot;$ne&quot;</span>: <span class="hljs-string">&quot;Jimmy Kuu&quot;</span>&#125;&#125;)</span>.<span class="hljs-constructor">All(&amp;<span class="hljs-params">users</span>)</span></code></pre><h3 id="小于"><a href="#小于" class="headerlink" title="小于"></a>小于</h3><pre><code class="hljs reasonml">c.<span class="hljs-constructor">Find(<span class="hljs-params">bson</span>.M&#123;<span class="hljs-string">&quot;age&quot;</span>: <span class="hljs-params">bson</span>.M&#123;<span class="hljs-string">&quot;$lt&quot;</span>: 32&#125;&#125;)</span>.<span class="hljs-constructor">All(&amp;<span class="hljs-params">users</span>)</span></code></pre><h3 id="大于等于"><a href="#大于等于" class="headerlink" title="大于等于"></a>大于等于</h3><pre><code class="hljs reasonml">c.<span class="hljs-constructor">Find(<span class="hljs-params">bson</span>.M&#123;<span class="hljs-string">&quot;age&quot;</span>: <span class="hljs-params">bson</span>.M&#123;<span class="hljs-string">&quot;$gte&quot;</span>: 33&#125;&#125;)</span>.<span class="hljs-constructor">All(&amp;<span class="hljs-params">users</span>)</span></code></pre><h3 id="小于等于"><a href="#小于等于" class="headerlink" title="小于等于"></a>小于等于</h3><pre><code class="hljs reasonml">c.<span class="hljs-constructor">Find(<span class="hljs-params">bson</span>.M&#123;<span class="hljs-string">&quot;age&quot;</span>: <span class="hljs-params">bson</span>.M&#123;<span class="hljs-string">&quot;$lte&quot;</span>: 31&#125;&#125;)</span>.<span class="hljs-constructor">All(&amp;<span class="hljs-params">users</span>)</span></code></pre><h3 id="包含"><a href="#包含" class="headerlink" title="包含"></a>包含</h3><pre><code class="hljs reasonml">c.<span class="hljs-constructor">Find(<span class="hljs-params">bson</span>.M&#123;<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-params">bson</span>.M&#123;<span class="hljs-string">&quot;$in&quot;</span>: []<span class="hljs-params">string</span>&#123;<span class="hljs-string">&quot;Jimmy Kuu&quot;</span>, <span class="hljs-string">&quot;Tracy Yu&quot;</span>&#125;&#125;&#125;)</span>.<span class="hljs-constructor">All(&amp;<span class="hljs-params">users</span>)</span></code></pre><h2 id="多条件查询"><a href="#多条件查询" class="headerlink" title="多条件查询"></a>多条件查询</h2><h3 id="和"><a href="#和" class="headerlink" title="和"></a>和</h3><pre><code class="hljs reasonml">c.<span class="hljs-constructor">Find(<span class="hljs-params">bson</span>.M&#123;<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Jimmy Kuu&quot;</span>, <span class="hljs-string">&quot;age&quot;</span>: 33&#125;)</span>.<span class="hljs-constructor">All(&amp;<span class="hljs-params">users</span>)</span></code></pre><h3 id="或"><a href="#或" class="headerlink" title="或"></a>或</h3><pre><code class="hljs reasonml">c.<span class="hljs-constructor">Find(<span class="hljs-params">bson</span>.M&#123;<span class="hljs-string">&quot;$or&quot;</span>: []<span class="hljs-params">bson</span>.M&#123;<span class="hljs-params">bson</span>.M&#123;<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Jimmy Kuu&quot;</span>&#125;, <span class="hljs-params">bson</span>.M&#123;<span class="hljs-string">&quot;age&quot;</span>: 31&#125;&#125;&#125;)</span>.<span class="hljs-constructor">All(&amp;<span class="hljs-params">users</span>)</span></code></pre><h2 id="更多查询"><a href="#更多查询" class="headerlink" title="更多查询"></a>更多查询</h2><p>请查<a href="https://github.com/mongodb/mongo-go-driver">mongodb</a>官方示例,顺便提醒一句,如果查询多次且确定语法正确情况下,请用原声mongod查询一下.</p><h1 id="分页"><a href="#分页" class="headerlink" title="分页"></a>分页</h1><pre><code class="hljs routeros">  <span class="hljs-built_in"> filter </span>:= bson.D&#123;&#123;<span class="hljs-string">&quot;State&quot;</span>, 1&#125;, &#123;<span class="hljs-string">&quot;Type&quot;</span>, ty&#125;&#125;opt := options.<span class="hljs-builtin-name">Find</span>()opt.SetLimit(size)opt.SetSkip(size * (page - 1))acs := 1opt.Sort = bson.D&#123;&#123;<span class="hljs-string">&quot;Creatime&quot;</span>, acs&#125;&#125;singleResult, err := client.Database(m.database).Collection(m.collection).<span class="hljs-builtin-name">Find</span>(context.TODO(), filter, opt)var news []model.Newserrr := singleResult.All(context.TODO(), &amp;news)<span class="hljs-keyword">if</span> errr != <span class="hljs-literal">nil</span> &#123;logging.<span class="hljs-builtin-name">Error</span>(<span class="hljs-string">&quot;查询列表解析错误&quot;</span>, err)&#125;defer singleResult.Close(context.TODO())</code></pre><h1 id="随机获取N调数据"><a href="#随机获取N调数据" class="headerlink" title="随机获取N调数据"></a>随机获取N调数据</h1><p>采用聚合数据获取随机条数,需要排重的话就多获取可能出现重复的条数</p><pre><code class="hljs roboconf">filter := mongo.Pipeline&#123;<span class="hljs-attribute">bson.D&#123;&#123;&quot;$match&quot;, bson.M&#123;&quot;Type&quot;</span>: ty&#125;&#125;&#125;,bson<span class="hljs-variable">.D</span>&#123;&#123;&quot;$sample&quot;, bson<span class="hljs-variable">.M</span>&#123;&quot;size&quot;: size&#125;&#125;&#125;,&#125;opt := options<span class="hljs-variable">.Find</span>()opt<span class="hljs-variable">.SetLimit</span>(size)singleResult, err := client<span class="hljs-variable">.Database</span>(m<span class="hljs-variable">.database</span>)<span class="hljs-variable">.Collection</span>(m<span class="hljs-variable">.collection</span>)<span class="hljs-variable">.Aggregate</span>(context<span class="hljs-variable">.TODO</span>(), filter)if err != nil &#123;logging<span class="hljs-variable">.Error</span>(&quot;查询随机新闻错误&quot;, err)&#125;var news []model<span class="hljs-variable">.News</span>erri := singleResult<span class="hljs-variable">.All</span>(context<span class="hljs-variable">.TODO</span>(), &amp;news)if erri != nil &#123;logging<span class="hljs-variable">.Error</span>(&quot;查询随机新闻解析错误&quot;, err)&#125;defer singleResult<span class="hljs-variable">.Close</span>(context<span class="hljs-variable">.TODO</span>())</code></pre><h1 id="获取上下篇"><a href="#获取上下篇" class="headerlink" title="获取上下篇"></a>获取上下篇</h1><p>拿到要获取当前数据的时间,根据这个时间获取分别获取上下篇</p><pre><code class="hljs roboconf">   upfilter := bson.D&#123;&#123;&quot;Type&quot;, ty&#125;, &#123;&quot;Creatime&quot;, bson.D&#123;&#123;&quot;$gt&quot;, tm&#125;&#125;&#125;&#125;downfilter := bson.D&#123;&#123;&quot;<span class="hljs-attribute">Type&quot;, ty&#125;, &#123;&quot;Creatime&quot;, bson.D&#123;&#123;&quot;$lt&quot;, tm&#125;&#125;&#125;&#125;</span><span class="hljs-attribute">opt</span> := options<span class="hljs-variable">.Find</span>()opt<span class="hljs-variable">.SetLimit</span>(1)//获取上一条u, ue := client<span class="hljs-variable">.Database</span>(m<span class="hljs-variable">.database</span>)<span class="hljs-variable">.Collection</span>(m<span class="hljs-variable">.collection</span>)<span class="hljs-variable">.Find</span>(context<span class="hljs-variable">.TODO</span>(), upfilter, opt)defer u<span class="hljs-variable">.Close</span>(context<span class="hljs-variable">.TODO</span>())if ue != nil &#123;logging<span class="hljs-variable">.Error</span>(&quot;获取上一条&quot;, up)&#125;var unews []model<span class="hljs-variable">.News</span>u<span class="hljs-variable">.All</span>(context<span class="hljs-variable">.TODO</span>(), &amp;unews)if unews != nil &#123;up = &amp;unews[0]&#125;optd := options<span class="hljs-variable">.Find</span>()optd<span class="hljs-variable">.SetLimit</span>(1)optd<span class="hljs-variable">.Sort</span> = bson<span class="hljs-variable">.D</span>&#123;&#123;&quot;Creatime&quot;, -1&#125;&#125;//获取下一条v, err := client<span class="hljs-variable">.Database</span>(m<span class="hljs-variable">.database</span>)<span class="hljs-variable">.Collection</span>(m<span class="hljs-variable">.collection</span>)<span class="hljs-variable">.Find</span>(context<span class="hljs-variable">.TODO</span>(), downfilter, optd)defer v<span class="hljs-variable">.Close</span>(context<span class="hljs-variable">.TODO</span>())if err != nil &#123;logging<span class="hljs-variable">.Error</span>(&quot;获取下一条错误&quot;, err)&#125;var news []model<span class="hljs-variable">.News</span>v<span class="hljs-variable">.All</span>(context<span class="hljs-variable">.TODO</span>(), &amp;news)if news != nil &#123;down = &amp;news[0]&#125;</code></pre><h1 id="删除"><a href="#删除" class="headerlink" title="删除"></a>删除</h1><pre><code class="hljs vbscript">deleteResult, <span class="hljs-built_in">err</span> := collection.DeleteOne(context.TODO(), <span class="hljs-built_in">filter</span>)<span class="hljs-keyword">if</span> <span class="hljs-built_in">err</span> != nil &#123;fmt.Printf(<span class="hljs-string">&quot;%s\n&quot;</span>, <span class="hljs-built_in">err</span>.<span class="hljs-keyword">Error</span>())&#125;</code></pre><h1 id="更新"><a href="#更新" class="headerlink" title="更新"></a>更新</h1><pre><code class="hljs go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(c *Collection)</span> <span class="hljs-title">Update</span><span class="hljs-params">(selector <span class="hljs-keyword">interface</span>&#123;&#125;, change <span class="hljs-keyword">interface</span>&#123;&#125;)</span> <span class="hljs-title">error</span></span></code></pre><h1 id="demo"><a href="#demo" class="headerlink" title="demo"></a>demo</h1><p><a href="https://github.com/a624669980/wh110-demo">github demo</a>地址</p>]]></content>
    
    
    <categories>
      
      <category>go</category>
      
    </categories>
    
    
    <tags>
      
      <tag>go</tag>
      
      <tag>mongodb</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>goland安装和破解</title>
    <link href="/posts/4df77f93.html"/>
    <url>/posts/4df77f93.html</url>
    
    <content type="html"><![CDATA[<h1 id="go开发工具"><a href="#go开发工具" class="headerlink" title="go开发工具"></a>go开发工具</h1><p>过开发工具有很多,博主是有过三个,分别是<a href="https://github.com/visualfc/liteide">LitelDE</a>,vscode,goland.<br/><br>vscode的话不只是博主安装的问题还是其他问题,代码联想异常的慢,顾放弃了.<br/><br><img src="https://i.loli.net/2020/11/09/8E1yOqJbSn6zmCr.jpg" alt="vscode"><br>litelde提好用的,还免费,博主也还是推荐使用,博主这种喜欢折腾的人不折腾难受啊,最终还是有goland.<br><br/><br><img src="https://i.loli.net/2020/11/09/PIZj7EwURxJ51yN.jpg" alt="litelde"><br>毕竟是官方推荐,个人也感觉goland更好用一点.但是Goland收费,博主也就在某宝买了一个激活码.<br><img src="https://i.loli.net/2020/11/09/Ggm6ZUHWqxDbSvA.png" alt="Goland"></p><h1 id="下载安装Goland"><a href="#下载安装Goland" class="headerlink" title="下载安装Goland"></a>下载安装Goland</h1><p>后面给的有下载地址,或者网上下载<a href="https://www.jetbrains.com/go/download/other.html">2020.1</a>这个版本<br><img src="https://i.loli.net/2020/11/09/G5L9MWdTOj8SEwX.png" alt="微信截图_20201109232556.png">,下载完一路next就行了</p><h1 id="破解"><a href="#破解" class="headerlink" title="破解"></a>破解</h1><ul><li><p>启动IDE，进入试用（若能直接进入项目界面，则忽略此步）<br><img src="https://i.loli.net/2020/11/09/MopjLJWiSGYqn8V.png" alt="ide"></p></li><li><p>将下载下来的ZIP包直接拖入，或者直接拖入你的项目界面也可以，不是非要拖入下图这个窗口（注意ZIP包不要解压）<br>拖入后会弹出Restart重启按钮，点击重启IDE<br><img src="https://i.loli.net/2020/11/09/TEGfNsbDB4vdRjP.png" alt="ide"><img src="https://i.loli.net/2020/11/09/aiyDOzdPCMJ8NHh.png" alt="ide"></p></li><li><p>重启后安装，激活完毕<br><img src="https://i.loli.net/2020/11/09/mN1zVFME4ZXWckp.png" alt="图片3.png"></p></li><li><p>若要查看激活过期时间<br><img src="https://i.loli.net/2020/11/09/7CiLjBcZVgXa1wF.png" alt="ide"></p></li><li><p>可以看到激活到2089年<br><img src="https://i.loli.net/2020/11/09/3nDerGNUgAmXLsZ.png" alt="ide"><br>常见问题若ZIP包拖进去没反应，建议先卸载原先的软件，清理残留，在别的文件夹里重新安装软件，云盘里提供了最新的版本下载安装一下几分钟。（2017版的不行，从2018开始的版本都支持的）</p><h1 id="最后的最后"><a href="#最后的最后" class="headerlink" title="最后的最后"></a>最后的最后</h1><p>百度网盘地址:<a href="https://pan.baidu.com/s/1cnEssMEe24yqTU-_cmNoJQ">链接</a><br/>提取码: e89q</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>go</category>
      
    </categories>
    
    
    <tags>
      
      <tag>go</tag>
      
      <tag>goland</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hexo搭建个人博客,免费托管到github</title>
    <link href="/posts/87ecfb0e.html"/>
    <url>/posts/87ecfb0e.html</url>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p><img src="https://i.loli.net/2020/10/25/Ags4c8km6Cq7pMK.jpg" alt="Hexo+github"></p><p>前一段时间看同事搭建了一个个人博客,本着学习的态度也跟着玩了玩.经过两天的时间终于搭建起来了,下面说说自己的经历.</p><p>我同事的博客托管在coding和github上(能白嫖绝不掏钱),然后他又买了一个域名,域名以解析完美.</p><h2 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h2><ul><li>win10</li><li>node ^10.15.1</li><li>npm ^6.4.1</li><li>git ^2.25.1.windows.1</li></ul><h1 id="Hello-World"><a href="#Hello-World" class="headerlink" title="Hello World"></a>Hello World</h1><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p><code>npm i -g hexo</code></p><p><img src="https://i.loli.net/2020/11/01/429eXEZ35ztsAgK.png" alt="hexo 版本"></p><h2 id="初始化"><a href="#初始化" class="headerlink" title="初始化"></a>初始化</h2><p>新建一个目录,博主是在<code>G:\hexo</code>,用cmd命令到该目录执行命令<code>hexo init myBlog</code>,hexo会初始化一个myBlog目录,并下载安装好hexo的东西.那接下来就可以运行了了.    <br/><br><code>hexo g</code> #生成<br/><br><code>hexo d</code> #启动服务<br>hexo命令如下图<br><img src="https://i.loli.net/2020/11/01/BFyRmYc8JCwUHPQ.png" alt="hexo 命令"><br>hexo运行起来的界面<br><img src="https://i.loli.net/2020/11/01/5ROotxQ8N6chZVz.jpg" alt="hexo 默认界面"><br>这一步搞定hexo基本工作已经完成,下面开始我们自定义工作.</p><h1 id="主题"><a href="#主题" class="headerlink" title="主题"></a>主题</h1><p>hexo的主题有很多,相对start比较多的是<a href="https://github.com/iissnan/hexo-theme-next">Next</a>,<a href="https://hexo.io/themes/">这里</a>是官方主题列表,客观可以去这里转转.<br>个人比较喜欢<a href="https://github.com/fluid-dev/hexo-theme-fluid">fluid</a>,所以博主这里介绍的也就是fluid.<br>接下来咱们安装fluid<code>npm i hexo-theme-fluid</code><br>接下来就是各种配置了,定制出你喜欢的样子就可以了哦.<br><img src="https://i.loli.net/2020/11/01/uSbrvm9hHyWYpFT.png" alt="fluid"><br><a href="https://hexo.fluid-dev.com/">这里</a>也有fluid官方部署文档,可以少走弯路.<br><a href="https://hexo.fluid-dev.com/docs/guide/">这里</a>fluid官方配置文档.<br><a href="https://hexo.fluid-dev.com/docs/guide/">这里</a>fluid github配置文档.</p><h1 id="插件"><a href="#插件" class="headerlink" title="插件"></a>插件</h1><p>hexo之说以强大和众多插件脱离不了关系,博主专门把插件拿出来给客官列出来.</p><h3 id="文章短链接"><a href="#文章短链接" class="headerlink" title="文章短链接"></a>文章短链接</h3><p><a href="https://github.com/rozbo/hexo-abbrlink">hexo-abbrlink</a></p><h3 id="看板娘"><a href="#看板娘" class="headerlink" title="看板娘"></a>看板娘</h3><p><a href="https://github.com/EYHN/hexo-helper-live2d">hexo-helper-live2d</a></p><h3 id="可视化编辑页面"><a href="#可视化编辑页面" class="headerlink" title="可视化编辑页面"></a>可视化编辑页面</h3><p><a href="https://github.com/fluid-dev/hexo-theme-fluid/blame/v1.8.2/_config.yml">hexo-admin</a><br>使用这个后台的时候建议多点保存,博主写了一个晚上的东西没保存成功.<br>以上是博主用到的插件,后面有在使用的会更新到这里面.</p><h1 id="github仓库"><a href="#github仓库" class="headerlink" title="github仓库"></a>github仓库</h1><p>创建一个托管html代码的仓库.<br><img src="https://i.loli.net/2020/11/01/a3Cj92ihs7BTnbK.png" alt="厂库申请说明"><br><a href="https://coding.net/">coding</a>也可以来一个</p><h1 id="配置SSH-Key"><a href="#配置SSH-Key" class="headerlink" title="配置SSH Key"></a>配置SSH Key</h1><p>申请好github还是不够的,这时候<code>hexo d</code>并不能发布代码到github上,还需要进行ssh设置.<br><img src="https://i.loli.net/2020/11/01/AO9WIbdvXijCJLN.png" alt="设置"><br><br/><br><img src="https://i.loli.net/2020/11/01/ZrvBnEXKpiyzUFT.png" alt="设置key"><br>那么问题来了,key哪来的呢.我们下面生成key,打开cmd.执行命令<br><code>ssh-keygen -t rsa -C &quot;邮件地址&quot;</code>,然后一路next成功后如下图.<br><img src="https://i.loli.net/2020/11/02/bo6z4pntOT8YLcC.jpg" alt="shh"><br>然后到<code>C:\Users\用户名\.ssh</code>找到<code>id_rsa.pub</code>文件,用记事本打开复制出内容.填到上面甚至ssh里面就可以了.<br><img src="https://i.loli.net/2020/11/02/T4tUNwsSbfL6ave.png" alt="shh路径"></p><h1 id="绑定域名"><a href="#绑定域名" class="headerlink" title="绑定域名"></a>绑定域名</h1><h2 id="申请域名"><a href="#申请域名" class="headerlink" title="申请域名"></a>申请域名</h2><p>很多运营商都可以申请域名,博主常用的两个平台,<a href="https://sg.godaddy.com/zh">godaddy</a>和<a href="https://www.aliyun.com/">阿里云</a>.阿里云使用更符合国人,没啥特殊要求的话就申请阿里云.</p><h2 id="解析域名"><a href="#解析域名" class="headerlink" title="解析域名"></a>解析域名</h2><p>解析域名也很简单,在github的仓库设置一下域名然后再在阿里云设置一下CNAME的解析就行了.<br><img src="https://i.loli.net/2020/11/07/DBX1nQ7Le6MOJEr.png" alt="设置解析域名"><br>CNAME解析到github的域名上.<br><img src="https://i.loli.net/2020/11/07/TmKna5PYR6GXHoL.png" alt="域名解析"></p><h3 id="CNAME文件"><a href="#CNAME文件" class="headerlink" title="CNAME文件"></a>CNAME文件</h3><p>设置好域名还是不能访问,还需要在文件根目录添加一个CNAME的文件,注意:没有后缀名,内容就是域名.博主设置如下图<br><img src="https://i.loli.net/2020/11/07/yHpdiFK7B1vAWe2.png" alt="CNAME"></p><h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>一篇博客写下来还是有点吃力,重点还是坚持吧,还是为了自己总结使用.博主这里返回几个碰到的问题,供大家参考.</p><ul><li>admin打开巨慢,不只是博主电脑问题还是都这样</li><li>目前国内没备案的域名不能做cdn,所以国内的打开速度还不如国外快,介意者一点的话就申请个可以备案的域名.</li><li>博主的图片使用的是<a href="https://sm.ms/">smms</a>图床,没使用站内图片,不知道会不会慢.</li><li>因为有key的限制,故只能在一台机器上进行编辑,局现象相对比较大.<br>整体就是个人维护自定义相对较高,要求门槛相对较高的一个博客工具.<br>最后重在坚持写内容,而不是搭建的过程.</li></ul>]]></content>
    
    
    <categories>
      
      <category>分享</category>
      
    </categories>
    
    
    <tags>
      
      <tag>博客</tag>
      
      <tag>hexl</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hello World</title>
    <link href="/posts/4a17b156.html"/>
    <url>/posts/4a17b156.html</url>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><pre><code class="hljs bash">$ hexo new <span class="hljs-string">&quot;My New Post&quot;</span></code></pre><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><pre><code class="hljs bash">$ hexo server</code></pre><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><pre><code class="hljs bash">$ hexo generate</code></pre><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><pre><code class="hljs bash">$ hexo deploy</code></pre><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
    
    
    
  </entry>
  
  
  
  
</search>
